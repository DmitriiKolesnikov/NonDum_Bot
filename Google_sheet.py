import gspread
import logging
from aiogram import Bot, Dispatcher, executor, types
from aiogram.types import ContentType, ReplyKeyboardMarkup, KeyboardButton
from langchain_core.messages import HumanMessage, SystemMessage
from langchain_gigachat.chat_models import GigaChat

gc = gspread.service_account(filename='nondumbot-912fdd73a98c.json')
sh = gc.open("NonDumBOT")
worksheet = sh.sheet1
worksheet.update_cell(1, 1, 'id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
worksheet.update_cell(1, 2, 'Telegram –Ω–∏–∫–Ω–µ–π–º')
worksheet.update_cell(1, 3, '–†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
worksheet.update_cell(1, 4, '–î–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏')
worksheet.update_cell(1, 5, '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤')
worksheet.update_cell(1, 6, '–û–±—â–∞—è —Å—É–º–º–∞, —É–ø–ª–∞—á–µ–Ω–Ω–∞—è –∑–∞ –±–∏–ª–µ—Ç—ã')
worksheet.update_cell(1, 7, '–û–ø–ª–∞—Ç–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π')
worksheet.update_cell(1, 8, '–û–ø–ª–∞—Ç–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö –∑–∞–Ω—è—Ç–∏–π')





# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(level=logging.INFO)

# –ó–∞–º–µ–Ω–∏—Ç–µ 'YOUR_TELEGRAM_BOT_TOKEN' –Ω–∞ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
bot = Bot(token='7271813239:AAEPPL7qT8A_8KDwXXniwMRTfwPUIeYBZhs')
dp = Dispatcher(bot)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ GigaChat
model = GigaChat(
    credentials="NTE2ODNlYWEtMGM3OS00MzEwLTgyYWItODU0ZGNmMWYwZjYwOjViMzUwMTVkLWU5ZmUtNGE1My05ZjJmLTQwOTI4NDc3ODgxMA==",
    scope="GIGACHAT_API_CORP",
    model="GigaChat",
    verify_ssl_certs=False,
)

prompt = """–†–æ–ª—å: –í—ã ‚Äî –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ—Ç –ø–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏.

–ó–∞–¥–∞—á–∞: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ç–æ—á–Ω—ã–µ, –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ HR-–≤–æ–ø—Ä–æ—Å–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –º–µ—Å—Ç–Ω—ã—Ö –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã—Ö –∞–∫—Ç–æ–≤ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞.

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —è–∑—ã–∫.
- –ü—Ä–∏–≤–æ–¥–∏—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–∫–æ–Ω—ã –∏ —Å—Ç–∞—Ç—å–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã—Ö –º–Ω–µ–Ω–∏–π –∏–ª–∏ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
- –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –≤–∞—à–µ–π –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –≤–µ–∂–ª–∏–≤–æ —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ—Ä–≥–∞–Ω—ã.
- –ü–æ—Å–ª–µ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–≥–æ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

–¶–µ–ª—å: –ü–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Ç—Ä—É–¥–æ–≤–æ–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–µ, –ø—Ä–∞–≤–∞—Ö –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—è—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π, —É—á–∏—Ç—ã–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç–Ω–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞.

–°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö:

- –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏
- –¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏
- –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã:
  - ‚Ññ‚ÄØ58-–§–ó –æ—Ç 27 –º–∞—è 2003 –≥. ¬´–û —Å–∏—Å—Ç–µ–º–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–ª—É–∂–±—ã –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ79-–§–ó –æ—Ç 27 –∏—é–ª—è 2004 –≥. ¬´–û –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±–µ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ273-–§–ó –æ—Ç 25 –¥–µ–∫–∞–±—Ä—è 2008 –≥. ¬´–û –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏–∏ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ3-–§–ó –æ—Ç 8 –º–∞—è 1994 –≥. ¬´–û —Å—Ç–∞—Ç—É—Å–µ —Å–µ–Ω–∞—Ç–æ—Ä–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç—É—Å–µ –¥–µ–ø—É—Ç–∞—Ç–∞ –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –î—É–º—ã –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –°–æ–±—Ä–∞–Ω–∏—è –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ27-–§–ó –æ—Ç 1 –∞–ø—Ä–µ–ª—è 1996 –≥. ¬´–û–± –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–º (–ø–µ—Ä—Å–æ–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º) —É—á–µ—Ç–µ –≤ —Å–∏—Å—Ç–µ–º–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è¬ª
  - ‚Ññ‚ÄØ166-–§–ó –æ—Ç 15 –¥–µ–∫–∞–±—Ä—è 2001 –≥. ¬´–û –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ173-–§–ó –æ—Ç 17 –¥–µ–∫–∞–±—Ä—è 2001 –≥. ¬´–û —Ç—Ä—É–¥–æ–≤—ã—Ö –ø–µ–Ω—Å–∏—è—Ö –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ131-–§–ó –æ—Ç 6 –æ–∫—Ç—è–±—Ä—è 2003 –≥. ¬´–û–± –æ–±—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–µ—Å—Ç–Ω–æ–≥–æ —Å–∞–º–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ59-–§–ó –æ—Ç 2 –º–∞—è 2006 –≥. ¬´–û –ø–æ—Ä—è–¥–∫–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –æ–±—Ä–∞—â–µ–Ω–∏–π –≥—Ä–∞–∂–¥–∞–Ω –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ152-–§–ó –æ—Ç 27 –∏—é–ª—è 2006 –≥. ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö¬ª
  - ‚Ññ‚ÄØ25-–§–ó –æ—Ç 2 –º–∞—Ä—Ç–∞ 2007 –≥. ¬´–û –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω–æ–π —Å–ª—É–∂–±–µ –≤ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
  - ‚Ññ‚ÄØ400-–§–ó –æ—Ç 28 –¥–µ–∫–∞–±—Ä—è 2013 –≥. ¬´–û —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –ø–µ–Ω—Å–∏—è—Ö¬ª
  - ‚Ññ‚ÄØ414-–§–ó –æ—Ç 21 –¥–µ–∫–∞–±—Ä—è 2021 –≥. ¬´–û–± –æ–±—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—É–±–ª–∏—á–Ω–æ–π –≤–ª–∞—Å—Ç–∏ –≤ —Å—É–±—ä–µ–∫—Ç–∞—Ö –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª
- –£–∫–∞–∑—ã –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏:
  - ‚Ññ‚ÄØ188 –æ—Ç 6 –º–∞—Ä—Ç–∞ 1997 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–µ—Ä–µ—á–Ω—è —Å–≤–µ–¥–µ–Ω–∏–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞¬ª
  - ‚Ññ‚ÄØ609 –æ—Ç 30 –º–∞—è 2005 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–æ–ª–æ–∂–µ–Ω–∏—è –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ —Å–ª—É–∂–∞—â–µ–≥–æ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –≤–µ–¥–µ–Ω–∏–∏ –µ–≥–æ –ª–∏—á–Ω–æ–≥–æ –¥–µ–ª–∞¬ª
  - ‚Ññ‚ÄØ813 –æ—Ç 18 –∏—é–ª—è 2005 –≥. ¬´–û –ø–æ—Ä—è–¥–∫–µ –∏ —É—Å–ª–æ–≤–∏—è—Ö –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö —Å–ª—É–∂–∞—â–∏—Ö¬ª
  - ‚Ññ‚ÄØ1532 –æ—Ç 19 –Ω–æ—è–±—Ä—è 2007 –≥. ¬´–û–± –∏—Å—á–∏—Å–ª–µ–Ω–∏–∏ —Å—Ç–∞–∂–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏...¬ª
  - ‚Ññ‚ÄØ1141 –æ—Ç 20 —Å–µ–Ω—Ç—è–±—Ä—è 2010 –≥. ¬´–û –ø–µ—Ä–µ—á–Ω–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π, –ø–µ—Ä–∏–æ–¥—ã —Å–ª—É–∂–±—ã (—Ä–∞–±–æ—Ç—ã) –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Å—Ç–∞–∂ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã...¬ª
  - ‚Ññ‚ÄØ16 –æ—Ç 16 —è–Ω–≤–∞—Ä—è 2017 –≥. ¬´–û –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –∫ —Å—Ç–∞–∂—É –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã...¬ª
- –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏:
  - ‚Ññ‚ÄØ472 –æ—Ç 26 –∏—é–Ω—è 2008 –≥. ¬´–û –ø–æ—Ä—è–¥–∫–µ –≤–∫–ª—é—á–µ–Ω–∏—è (–∑–∞—á–µ—Ç–∞) –≤ —Å—Ç–∞–∂ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏...¬ª
  - ‚Ññ‚ÄØ749 –æ—Ç 13 –æ–∫—Ç—è–±—Ä—è 2008 –≥. ¬´–û–± –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ –≤ —Å–ª—É–∂–µ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∏¬ª
  - ‚Ññ‚ÄØ211 –æ—Ç 21 –º–∞—Ä—Ç–∞ 2012 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–µ—Ä–µ—á–Ω—è –º–µ—Ä, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π...¬ª
  - ‚Ññ‚ÄØ256 –æ—Ç 3 –º–∞—Ä—Ç–∞ 2017 –≥. ¬´–û —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ ¬´–ï–¥–∏–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–¥—Ä–æ–≤—ã–º —Å–æ—Å—Ç–∞–≤–æ–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏¬ª¬ª
  - ‚Ññ‚ÄØ1250 –æ—Ç 24 –∏—é–ª—è 2021 –≥. ¬´–û–± –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ç—Ä—É–¥–æ–≤—ã–º–∏ –∫–Ω–∏–∂–∫–∞–º–∏...¬ª
- –ó–∞–∫–æ–Ω—ã –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏:
  - –£—Å—Ç–∞–≤ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏
  - ‚Ññ‚ÄØ225-–ó –æ—Ç 30 –¥–µ–∫–∞–±—Ä—è 2005 –≥. ¬´–û –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç—è—Ö –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ –†–µ–µ—Å—Ç—Ä–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
  - ‚Ññ‚ÄØ40-–ó –æ—Ç 10 –º–∞—è 2006 –≥. ¬´–û –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±–µ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
  - ‚Ññ‚ÄØ20-–ó –æ—Ç 7 –º–∞—Ä—Ç–∞ 2008 –≥. ¬´–û –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏–∏ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏ –≤ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
  - ‚Ññ‚ÄØ48-–ó –æ—Ç 24 –∏—é–Ω—è 2003 –≥. ¬´–û –ø–µ–Ω—Å–∏–∏ –∑–∞ –≤—ã—Å–ª—É–≥—É –ª–µ—Ç –ª–∏—Ü–∞–º, –∑–∞–º–µ—â–∞–≤—à–∏–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏...¬ª
  - ‚Ññ‚ÄØ76-–ó –æ—Ç 9 —Å–µ–Ω—Ç—è–±—Ä—è 2003 –≥. ¬´–û –¥–µ–Ω–µ–∂–Ω–æ–º —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏ –ª–∏—Ü, –∑–∞–º–µ—â–∞—é—â–∏—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏...¬ª
  - ‚Ññ‚ÄØ198-–ó –æ—Ç 22 –¥–µ–∫–∞–±—Ä—è 2015 –≥. ¬´–û –ø–æ—Ä—è–¥–∫–µ –∏ —É—Å–ª–æ–≤–∏—è—Ö –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è –≤–µ–¥–æ–º—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º —Ç—Ä—É–¥–æ–≤–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞...¬ª
- –£–∫–∞–∑—ã –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä–∞ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏:
  - ‚Ññ‚ÄØ174 –æ—Ç 19 —Å–µ–Ω—Ç—è–±—Ä—è 2024 –≥. ¬´–û–± –æ–ø–ª–∞—Ç–µ —Ç—Ä—É–¥–∞ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤, –∑–∞–º–µ—â–∞—é—â–∏—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
  - ‚Ññ‚ÄØ182 –æ—Ç 26 —Å–µ–Ω—Ç—è–±—Ä—è 2024 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–æ–ª–æ–∂–µ–Ω–∏—è –æ–± –æ–ø–ª–∞—Ç–µ —Ç—Ä—É–¥–∞ –ª–∏—Ü, –∑–∞–º–µ—â–∞—é—â–∏—Ö –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏...¬ª
  - ‚Ññ‚ÄØ26 –æ—Ç 26 —Ñ–µ–≤—Ä–∞–ª—è 2021 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–æ–ª–æ–∂–µ–Ω–∏—è –æ —Å–æ–≤–µ—Ç–Ω–∏–∫–∞—Ö –ì—É–±–µ—Ä–Ω–∞—Ç–æ—Ä–∞ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–∞—á–∞–ª–∞—Ö¬ª
- –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏:
  - ‚Ññ‚ÄØ920 –æ—Ç 11 –¥–µ–∫–∞–±—Ä—è 2009 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –†–µ–≥–ª–∞–º–µ–Ω—Ç–∞ –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
  - ‚Ññ‚ÄØ912 –æ—Ç 28 –¥–µ–∫–∞–±—Ä—è 2018 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ª–æ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É –≤ –æ—Ä–≥–∞–Ω–∞—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç–∏ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏...¬ª
  - ‚Ññ‚ÄØ1061 –æ—Ç 13 –¥–µ–∫–∞–±—Ä—è 2022 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–æ–ª–æ–∂–µ–Ω–∏—è –æ –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–µ –∫–∞–¥—Ä–æ–≤–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏¬ª
- –ü—Ä–∏–∫–∞–∑—ã –∏ –∏–Ω—ã–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –∞–∫—Ç—ã:
  - –ü—Ä–∏–∫–∞–∑ –†–æ—Å–∞—Ä—Ö–∏–≤–∞ ‚Ññ‚ÄØ77 –æ—Ç 31 –∏—é–ª—è 2023 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü—Ä–∞–≤–∏–ª –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è, –∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏—è, —É—á–µ—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ê—Ä—Ö–∏–≤–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏...¬ª
  - –ü—Ä–∏–∫–∞–∑ –†–æ—Å–∞—Ä—Ö–∏–≤–∞ ‚Ññ‚ÄØ236 –æ—Ç 20 –¥–µ–∫–∞–±—Ä—è 2019 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ü–µ—Ä–µ—á–Ω—è —Ç–∏–ø–æ–≤—ã—Ö —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö –∞—Ä—Ö–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...¬ª
  - –ü—Ä–∏–∫–∞–∑ –ú–∏–Ω—Ñ–∏–Ω–∞ –†–æ—Å—Å–∏–∏ ‚Ññ‚ÄØ52–Ω –æ—Ç 30 –º–∞—Ä—Ç–∞ 2015 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ñ–æ—Ä–º –ø–µ—Ä–≤–∏—á–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–æ–≥–æ —É—á–µ—Ç–∞...¬ª
  - –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ì–æ—Å–∫–æ–º—Å—Ç–∞—Ç–∞ –†–§ ‚Ññ‚ÄØ1 –æ—Ç 5 —è–Ω–≤–∞—Ä—è 2004 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º –ø–µ—Ä–≤–∏—á–Ω–æ–π —É—á–µ—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —É—á–µ—Ç—É —Ç—Ä—É–¥–∞ –∏ –µ–≥–æ –æ–ø–ª–∞—Ç—ã¬ª
  - –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ —Ç—Ä—É–¥–∞ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã –†–§ ‚Ññ‚ÄØ320–Ω –æ—Ç 19 –º–∞—è 2021 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã, –ø–æ—Ä—è–¥–∫–∞ –≤–µ–¥–µ–Ω–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç—Ä—É–¥–æ–≤—ã—Ö –∫–Ω–∏–∂–µ–∫¬ª
  - –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ü—Ä–∞–≤–ª–µ–Ω–∏—è –ü–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞ –†–§ ‚Ññ‚ÄØ245–ø –æ—Ç 31 –æ–∫—Ç—è–±—Ä—è 2022 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –µ–¥–∏–Ω–æ–π —Ñ–æ—Ä–º—ã ¬´–°–≤–µ–¥–µ–Ω–∏—è –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ (–ø–µ—Ä—Å–æ–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ) —É—á–µ—Ç–∞...¬ª
  - –ü—Ä–∏–∫–∞–∑ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ —Ç—Ä—É–¥–∞ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã –†–§ ‚Ññ‚ÄØ713–Ω –æ—Ç 10 –Ω–æ—è–±—Ä—è 2022 –≥. ¬´–û–± —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã —Å–≤–µ–¥–µ–Ω–∏–π –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π —Ä–∞–±–æ—Ç–Ω–∏–∫—É —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–º...¬ª

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í —Å–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–∞—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞. –í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —ç—Ç–∏–∫–µ."""

# –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
user_histories = {}

start_new_chat_button = KeyboardButton('–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥')

# –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
keyboard = ReplyKeyboardMarkup(resize_keyboard=True)
keyboard.add(start_new_chat_button)

@dp.message_handler(commands=['start'])
async def send_welcome(message: types.Message):
    await message.reply(
        "üëã –ü—Ä–∏–≤–µ—Ç! –Ø –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π HR-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç, –≥–æ—Ç–æ–≤—ã–π –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å –ª—é–±—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏. "
        "–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É '–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥' –¥–ª—è –Ω–∞—á–∞–ª–∞ –±–µ—Å–µ–¥—ã –∏–ª–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å LLM.",
        reply_markup=keyboard
    )

@dp.message_handler(content_types=ContentType.TEXT)
async def handle_message(message: types.Message):
    user_id = message.from_user.id
    text = message.text.strip().lower()

    if text == "–Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥":
        # –°–±—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_histories[user_id] = [
            SystemMessage(content=prompt)
        ]
        await message.reply("–ù–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –Ω–∞—á–∞—Ç. –ö–∞–∫ —è –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ?", reply_markup=keyboard)
        logging.info(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –Ω–∞—á–∞–ª –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥.")
        return

    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞, –µ—Å–ª–∏ –µ–µ –µ—â–µ –Ω–µ—Ç
    if user_id not in user_histories:
        user_histories[user_id] = [
            SystemMessage(content=prompt)
        ]

    user_history = user_histories[user_id]

    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∏—Å—Ç–æ—Ä–∏—é
    user_history.append(HumanMessage(content=message.text))
    logging.info(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å: {message.text}")

    try:
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç GigaChat
        res = model.invoke(user_history)

        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é
        user_history.append(res)
        logging.info(f"GigaChat –æ—Ç–≤–µ—Ç–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é {user_id}: {res.content}")

        # –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        await message.reply(res.content, reply_markup=keyboard)
    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {e}")
        await message.reply("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.", reply_markup=keyboard)

if __name__ == '__main__':
    executor.start_polling(dp, skip_updates=True)

